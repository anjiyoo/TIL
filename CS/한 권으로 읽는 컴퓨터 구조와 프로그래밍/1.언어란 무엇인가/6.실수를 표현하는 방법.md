### 고정소수점 표현

2진수를 사용해 소수를 표현하기 위해 2진 소수점의 위치를 임의로 정한다. 그 위치를 일정하게 고정하는 방법이 고정소수점 표현이다. 쓸모 있는 범위의 실숫값을 표현하기 위해 필요한 비트 개수가 너무 많기 때문에 범용 컴퓨터에서 이런 방식을 사용하는 경우는 드물다.

플랑크 상수(양자 역학 기본 상수 중 하나)는 6.63*10^34J/s(초당 줄)라는 아주 작은 값이지만, 아보가드로 수(Avogadro's constant)는 6.02 *10^23/몰 이라는 아주 큰 수다. 두 수의 범위는 10^57에 달하며, 대략 2^191 정도 된다. 거의 200비트가 필요하다. 모든 수를 몇백 비트로 표현하면 메모리 비용이 너무 많이 든다는 단점이 존재한다.

![image3](https://github.com/user-attachments/assets/28314a33-4e59-4972-a577-04dcf2747814)

> 고정소수점 표현 예시 7.625라는 수를 2진수로 표현하면 111.101이고, 이것을 16비트 체계에선 아래와 같이 저장하며, 남는 공간은 0으로 다 채운다.

<br>

### 부동소수점 표현

플랑크 상수부터 아보가드로 수에 이르는 범위의 값을 2진수로 표현하기 위해 과학적 표기법을 도입하여 큰 범위의 수를 표현했다.

![image4](https://github.com/user-attachments/assets/aa7ded08-b88e-4707-8b39-fc857b3fe438)

> 0.0012라는 실수를 1.2 * 10^-3이라고 쓰고, 이런 표현법을 부동소수점으로 부른다. 하지만 부동소수점도 아래와 같이 비효율적인 부분이 존재한다.

<br>

### IEEE 부동소수점 수 표준

부동소수점 수 시스템은 컴퓨터에서 계산을 수행할 때 실수를 표현하는 표준 방법이다. 그래서 낭비되는 비트 조합을 최소화하고 반올림을 쉽게 하기 위한 여러가지 트릭이 사용된다. IEEE 754라는 표준은 이 모든 기능을 정의한다.

부동소수점은 두 가지 방법이 자주 쓰인다.

> 첫번째는 기본정밀도 부동소수점 수 (float)
>
> 두번째는 **2배 정밀도 부동소수점 수** (double)

두 형태 모두 가수에 대한 부호를 사용한다. 하지만 지수에 대해 부호 비트가 따로 존재하지 않는다. IEEE 754 설계자들은 편향된 지숫값(bias)인을 사용하여 비트 패턴을 활용했다. 기본 정밀도의 경우 편향값은 127이며, 2배 정밀도 수는 편향값을 1023을 사용한다.

IEEE 754에서 편리한 점은 0으로 나눴을 때 생길 수 있는 양의 무한대나 음의 무한대를 표현하는 비트 패턴 등 여러 가지 특별한 비트 패턴을 제공한다. 'NaN'을 표현하는 특별한 값도 존재한다.

똑같은 비트를 사용하더라도 정밀도(precision)를 가능한 한 높이고 싶다면 첫번째 트릭은 정규화(nomalization)이다. 정규화는 가수를 조정해서 맨 앞(즉, 왼쪽)에 0이 없게 만드는 것이다. 이런 식으로 가수를 조정하려면 지수도 조정해야한다. 두번째 트릭은 디지털 이큅먼트 사(DEC, Digital Equipment Corporation)에서 고안한 것으로, 가수의 맨 왼쪽 비트가 1이라는 사실을 알고 있으므로,이를 생략하는 것이다. 이로 인해 가수에 1비트를 더 사용할 수 있다.

> 정규화란?
>
2진수를 1.xxxx * 2^n 꼴로 변환하는 것이다. 정규화를 할 때에 정수 부분에 1만 남겨두는 이유는 이진수에서 가장 앞자리는 항상 1이 되기 때문에 이를 빼고 바로 바로 뒤에 오는 수부터 23 비트를 채우게 되면 결과적으로 24 비트만큼 채우는 효과를 가져오기 때문이다.

> 편향값 활용
>
기본 정밀도(32비트)는 아래처럼 `부호 비트`, `지수부`, `가수부` 로 표현된다.

![image5](https://github.com/user-attachments/assets/a7046e78-6265-45f1-bf7f-a3b2440281e5)

`부호 비트`는 고정소수점에서와 마찬가지로 0이면 양수, 1이면 음수를 의미한다.

8자리짜리 `지수부`는 2^n에서 n에 해당하는 수이다.

23자리 `가수부`는 정규화 결과 소수점 오른쪽에 있는 숫자들을 왼쪽부터 그대로 넣으면 되며 남는 자리는 0으로 채운다.

IEEE 표준에 따르면 저 부분에는 지수를 그대로 박아넣는게 아니라, 'bias' 라고 하는 지정된 숫자를 더한 다음 넣어야 한다. IEEE 표준에서 32비트를 쓰는 경우 bias는 127이라고 규정하고 있다. bias는 지수가 음수가 될 수 있어서 쓰는 값이다.

double, 64비트 체계에서는 지수부가 11비트, 가수부가 52비트다. 지수부가 2^11 즉 2048개의 수를 표현할 수 있다.